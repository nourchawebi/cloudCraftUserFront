
<!--HEDHII L QRCODE &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;§§§§§§§§§§§§-->
<!--<app-qr-code></app-qr-code>-->


<!--<div *ngIf="qrCodeData">-->
<!--  <img [src]="qrCodeData" alt="QR Code">-->
<!--</div>-->

<div style="margin-top: 40px;" >
  <section class="course-content" >
    <div class="container" id="main-container">
      <div class="row">
        <div class="col-lg-9 col-md-12">
          <div class="row">
            <div class="col-md-6 col-sm-12"  *ngFor="let event of items;">

              <div class="blog grid-blog">
                <div class="blog-image">
                  <a [routerLink]="['/user/event-detail', event.idEvent]"><img class="img-fluid" [src]="event.imageURL"  alt="Post Image"></a>
                </div>
                <div class="blog-grid-box">
                  <div class="blog-info clearfix">
                    <div class="post-left">
                      <ul>
                        <li><img class="img-fluid" src="/assets/FrontOffice/img/icon/icon-22.svg" alt>{{ event.dateBegin | date: 'mediumDate' }}</li>
                        <li><img class="img-fluid" src="/assets/FrontOffice/img/icon/icon-23.svg" alt>{{ event.location }}</li>
                      </ul>
                    </div>
                  </div>
                  <h3 class="blog-title"><a [routerLink]="['/user/event-detail', event.idEvent]">{{ event.title }}</a></h3>
                  <div class="blog-content blog-read">
                    <p>{{event.details}}[…]</p>

                    <div class="d-flex justify-content-between">
                      <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                              data-bs-target="#modalToggle" (click)="participate(event.idEvent)">Participate</button>

                      <button type="button" class="btn btn-lg" data-bs-toggle="modal"
                              data-bs-target="#modalToggle" (click)="cancelparticipate(event.idEvent)">Cancel</button>
                    </div>
                    <!--                                    <img id="qrcode-image" src="..\assets\img\QRCODE.png" alt="QR Code">-->
                    <!--                  <a [routerLink]="['/user/event-detail', event.idEvent]">View Details</a>-->


                  </div>
                </div>
              </div>

            </div>

          </div>


          <!-- CSS Ticket inspired by -->
          <!-- https://dribbble.com/shots/2677752-Dribbble-invite-competition -->

          <!--        <div class="ticket">-->
          <!--          <div class="stub">-->
          <!--            <div class="top">-->
          <!--              <span class="admit">Admit</span>-->
          <!--              <span class="line"></span>-->
          <!--              <span class="num">-->
          <!--        Invitation-->
          <!--        <span>31415926</span>-->
          <!--      </span>-->
          <!--            </div>-->
          <!--            <div class="number">1</div>-->
          <!--            <div class="invite">-->
          <!--              Invite for you-->
          <!--            </div>-->
          <!--          </div>-->
          <!--          <div class="check">-->
          <!--            <div class="big">-->
          <!--              You're <br> Invited-->
          <!--            </div>-->
          <!--            <div class="number">-->
          <!--              1-->
          <!--            </div>-->
          <!--&lt;!&ndash;            <div class="number"><img id="qrcode-image" src="..\assets\img\QRCODE.png" alt="QR Code"></div>&ndash;&gt;-->
          <!--            <div class="info">-->
          <!--              <section>-->
          <!--                <div class="title">Date</div>-->
          <!--                <div>4/27/2016</div>-->
          <!--              </section>-->
          <!--              <section>-->
          <!--                <div class="title">Issued By</div>-->
          <!--                <div>Ampersand</div>-->
          <!--              </section>-->
          <!--              <section>-->
          <!--                <div class="title">Invite Number</div>-->
          <!--                <div>31415926</div>-->
          <!--              </section>-->
          <!--            </div>-->
          <!--          </div>-->
          <!--        </div>-->

          <div class="row">
            <div class="col-md-12">
              <ul class="pagination lms-page">
                <li class="page-item prev">
                  <a class="page-link" href="javascript:void(0);" tabindex="-1"><i class="fas fa-angle-left"></i></a>
                </li>
                <li class="page-item first-page active">
                  <a class="page-link" href="javascript:void(0);">1</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="javascript:void(0);">2</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="javascript:void(0);">3</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="javascript:void(0);">4</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="javascript:void(0);">5</a>
                </li>
                <li class="page-item next">
                  <a class="page-link" href="javascript:void(0);"><i class="fas fa-angle-right"></i></a>
                </li>
              </ul>
            </div>
          </div>

        </div>

        <div class="col-lg-3 col-md-12 sidebar-right theiaStickySidebar">

          <div class="card search-widget blog-search blog-widget">
            <p>Hi! come ask me</p>
            <a href="#" (click)="openModals()">
              <img src="assets/FrontOffice/img/chatbot.png" alt="Mr. Chat" class="smaller-image">
            </a>
          </div>


          <div class="card post-widget blog-widget">
            <div class="card-header">
              <h4 class="card-title">Recent Posts</h4>
            </div>
            <div class="card-body" *ngFor="let event of items;">
              <ul class="latest-posts">
                <li>
                  <div class="post-thumb">
                    <a href="blog-details.html">
                      <img class="img-fluid"  [src]="event.imageURL"  alt>
                    </a>
                  </div>
                  <div class="post-info">
                    <h4>
                      <a href="blog-details.html">{{ event.title }}</a>
                    </h4>
                    <p><img class="img-fluid" src="assets/img/icon/icon-22.svg" alt>{{ event.dateBegin | date: 'mediumDate' }}</p>
                  </div>
                </li>

              </ul>
            </div>
          </div>
          <button type="button" class="btn btn-primary" (click)="openModals()">Mr.Chat</button>


        </div>

      </div>

    </div>
  </section>
  <!-- Modal -->


  <!-- Modal -->
  <ng-template #content let-modal  >
    <div id="image-section" >
      <div class="modal-header"  >
        <h5 class="modal-title">Event Ticket</h5>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!--    <qrcode [qrdata]="myAngularxQrCode" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>-->


        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>

        <div class="left" >

          <div class="ticket-info" >
            <p class="date">
              <span>         </span>
              <span class="june-29">YOUR EVENT TICKET</span>
              <span>     </span>
            </p>
            <div class="show-name">
              <h1></h1>
              <h2></h2>
              <qrcode [qrdata]="myAngularxQrCode" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>

            </div>
            <div class="time">
              <p>8:00 PM <span>TO</span> 11:00 PM</p>
              <p>DOORS <span>@</span> 7:00 PM</p>
            </div>
            <p class="location"><span>ESPRIT</span>
              <span class="separator"><i class="far fa-smile"></i></span><span>AL GAZZALA, ARIANA</span>
            </p>
          </div>
        </div>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modal.dismiss('Close click')">Close</button>
        <button type="button" class="btn btn-secondary" (click)="generateImage()">Download Image</button>
        <!--    <button type="button" class="btn btn-secondary" (click)="downloadImage()">Download Image</button>-->

      </div>
    </div>
  </ng-template>

  <!--////////////////////////////chat-->


  <ng-template #contents let-modal>
    <div class="modal-header">
      <h5 class="modal-title">Mr.Chat</h5>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <ng-container *ngFor="let message of messages">
        <div class="message" [ngClass]="{ 'from': message.author === 'bot', 'to': message.author === 'user' }">
          {{ message.content }}
        </div>
      </ng-container>
      <label *ngIf="messages.length == 0">Your message</label>
      <div class="input-container">
        <input [(ngModel)]="value" (keyup.enter)="sendMessage()" type="text" class="my-custom-input">
        <button (click)="sendMessage()" class="btn btn-info">Send</button>
      </div>

    </div>
    <div class="modal-footer">
      <span class="float-right">Total messages: {{ messages.length }}</span>
      <button type="button" class="btn btn-secondary" (click)="modal.dismiss('Close click')">Close</button>
    </div>
  </ng-template>
</div>
